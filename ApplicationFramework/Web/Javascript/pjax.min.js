(function(n){"use strict";n.fn.pjax=function(i){var u={locationAttribute:"href",pjaxLinkSelector:'a[data-pjax="true"]',analytics:null,preLoad:function(){},postLoad:function(){},onErrorLoading:function(){}},r;i=n.extend(u,i),n.fn.pjax.enabled||(n.fn.pjax.enabled=!0,t()),r=n(this);n(r).on("click",i.pjaxLinkSelector,function(){if(!window.History.enabled)return!0;var t=n(this).attr(i.locationAttribute),r=(new Date).getTime();return t!=location.href&&(n.fn.pjax.actionOptions.push({id:r,options:i}),window.History.pushState({pjax:!0,actionOptionsId:r},document.title,t)),!1})};var t=function(){window.History.replaceState({pjax:!1},document.title,location.pathname+location.search),window.History.Adapter.bind(window,"statechange",function(){var u=!n.fn.pjax.popped&&location.href==n.fn.pjax.initialUrl,r,t;return(n.fn.pjax.popped=!0,u)?!0:(r=window.History.getState(),r&&r.data.pjax?(t=i(r.data.actionOptionsId),t.options.preLoad(),setTimeout(function(){n.ajax({url:location.pathname+location.search,beforeSend:function(n){n.setRequestHeader("X-PJAX","true")},success:function(n,i,r){t.options.analytics&&t.options.analytics.push(["_trackPageview"]);var u=r.getResponseHeader("X-PJAX-Title");u&&(document.title=u);t.options.onLoad(n,i,r)},error:function(n,i,r){t.options.onErrorLoading(n,i,r)}})},1e3),!1):(window.location=location.pathname+location.search,!0))})},i=function(t){var i=n.grep(n.fn.pjax.actionOptions,function(n){return n.id==t});return i[0]};n.fn.pjax.enabled=!1,n.fn.pjax.initialUrl=location.href,n.fn.pjax.popped="state"in window.History,n.fn.pjax.actionOptions=[]})(jQuery);